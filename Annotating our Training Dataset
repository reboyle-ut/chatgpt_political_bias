{"nbformat":4,"nbformat_minor":0,"metadata":{"colab":{"provenance":[]},"kernelspec":{"name":"python3","display_name":"Python 3"},"language_info":{"name":"python"},"widgets":{"application/vnd.jupyter.widget-state+json":{"db2c9c0b1792481f9a3ff2766e5406cc":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_cc5a61023faf444b9cfc7b4d18e31612","IPY_MODEL_79bafc18ccb345cdbb2718e8449672a6","IPY_MODEL_005bde0db4784bc2bab3e5cbef72c867"],"layout":"IPY_MODEL_6f039817391e49e883c190beae39bc99"}},"cc5a61023faf444b9cfc7b4d18e31612":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_2900bb0f222644f59c783c8535e0b516","placeholder":"​","style":"IPY_MODEL_b4ce61339a4947c79f872f19e1a64f97","value":"Downloading builder script: 100%"}},"79bafc18ccb345cdbb2718e8449672a6":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_19433a11c14344abbc823f2926bc279c","max":4323,"min":0,"orientation":"horizontal","style":"IPY_MODEL_025122086a374ee88166281f210b2661","value":4323}},"005bde0db4784bc2bab3e5cbef72c867":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_5ca7e5214b384763a988aeaa5429f4e1","placeholder":"​","style":"IPY_MODEL_f1741e03056a49048c928503bca0cc66","value":" 4.32k/4.32k [00:00&lt;00:00, 210kB/s]"}},"6f039817391e49e883c190beae39bc99":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"2900bb0f222644f59c783c8535e0b516":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"b4ce61339a4947c79f872f19e1a64f97":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"19433a11c14344abbc823f2926bc279c":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"025122086a374ee88166281f210b2661":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"5ca7e5214b384763a988aeaa5429f4e1":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"f1741e03056a49048c928503bca0cc66":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"0611ba41bf5b459aa88f5e82037e4cf1":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_488ba2052f6b40b1ab0bf6ab6df39045","IPY_MODEL_9b5b40ce1b4a4c29b19871484233cff8","IPY_MODEL_8269e2f8ab3042ee839a25cec7f26e98"],"layout":"IPY_MODEL_258421eaec4e43728cf22084330940e5"}},"488ba2052f6b40b1ab0bf6ab6df39045":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_2bd5cd3878e44459a3e6c701cf7a655f","placeholder":"​","style":"IPY_MODEL_2ffe80dc3bdd4afeaade89b605cba33b","value":"Downloading readme: 100%"}},"9b5b40ce1b4a4c29b19871484233cff8":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_e6ba481797e64ed4b6effec93c99565b","max":7455,"min":0,"orientation":"horizontal","style":"IPY_MODEL_3bf45fc10f4c4fd396696d35240dae2f","value":7455}},"8269e2f8ab3042ee839a25cec7f26e98":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_e01fa81d9cac40289ebb98462edeb86a","placeholder":"​","style":"IPY_MODEL_337d56195979499d8a9556841e2bf468","value":" 7.46k/7.46k [00:00&lt;00:00, 514kB/s]"}},"258421eaec4e43728cf22084330940e5":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"2bd5cd3878e44459a3e6c701cf7a655f":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"2ffe80dc3bdd4afeaade89b605cba33b":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"e6ba481797e64ed4b6effec93c99565b":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3bf45fc10f4c4fd396696d35240dae2f":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"e01fa81d9cac40289ebb98462edeb86a":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"337d56195979499d8a9556841e2bf468":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"34ff572f8f8e49c8afd385c5ba04ca70":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_95743b20216349408633244ac38fa12f","IPY_MODEL_d6084cce62554043a85ca3f65d56559b","IPY_MODEL_4e5514ea3f824b6a82e5ad222bb3dcad"],"layout":"IPY_MODEL_933af1d2ba6c4374afc7919ded5f8ad2"}},"95743b20216349408633244ac38fa12f":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_8fa2e449084e47e5928df215b057cda0","placeholder":"​","style":"IPY_MODEL_86ca7854282d41d2a953e00f5b8ba325","value":"Downloading data: 100%"}},"d6084cce62554043a85ca3f65d56559b":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_b35dff9949bb448b90048dd605c856ad","max":845131146,"min":0,"orientation":"horizontal","style":"IPY_MODEL_2e2390fd46f446368aba6883267fea14","value":845131146}},"4e5514ea3f824b6a82e5ad222bb3dcad":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_2e8c1c18ff4b4f92b9b9785a40bcf508","placeholder":"​","style":"IPY_MODEL_920291f0d9fc476084f483fc0aadd099","value":" 845M/845M [00:11&lt;00:00, 57.3MB/s]"}},"933af1d2ba6c4374afc7919ded5f8ad2":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"8fa2e449084e47e5928df215b057cda0":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"86ca7854282d41d2a953e00f5b8ba325":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"b35dff9949bb448b90048dd605c856ad":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"2e2390fd46f446368aba6883267fea14":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"2e8c1c18ff4b4f92b9b9785a40bcf508":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"920291f0d9fc476084f483fc0aadd099":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"ab975e3641344a5eb0c70a7329d8777d":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_fc1cafeace8d46dfad208fd4f9a7671d","IPY_MODEL_43b6ded1ecb94403998d7b748ef59db3","IPY_MODEL_604d2c43e23d4ef8bb2695a7bf5b0e71"],"layout":"IPY_MODEL_353aabad0a464c109c4c8e6a4f6f1c39"}},"fc1cafeace8d46dfad208fd4f9a7671d":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_ff551ff3642748998d9a7211b28a5b08","placeholder":"​","style":"IPY_MODEL_9ae06b005d534961bd7ea8c9da3f2810","value":"Generating train split: 100%"}},"43b6ded1ecb94403998d7b748ef59db3":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_e8338f33cca24a7aadc1cc4c7559b4ee","max":708241,"min":0,"orientation":"horizontal","style":"IPY_MODEL_d3e740bc02ad4e2fba8323aa3a20c62c","value":708241}},"604d2c43e23d4ef8bb2695a7bf5b0e71":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_1c175b9e17ed4e5895f2838aeb4de32e","placeholder":"​","style":"IPY_MODEL_d41e29de52d74100a3a84786edcb2e39","value":" 708241/708241 [02:41&lt;00:00, 4865.66 examples/s]"}},"353aabad0a464c109c4c8e6a4f6f1c39":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"ff551ff3642748998d9a7211b28a5b08":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"9ae06b005d534961bd7ea8c9da3f2810":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"e8338f33cca24a7aadc1cc4c7559b4ee":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d3e740bc02ad4e2fba8323aa3a20c62c":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"1c175b9e17ed4e5895f2838aeb4de32e":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d41e29de52d74100a3a84786edcb2e39":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}}}}},"cells":[{"cell_type":"markdown","source":["# Downloading the Training Dataset\n","\n","We are going to use the CC-news dataset from the HuggingFace (see [documentation](https://huggingface.co/datasets/cc_news)). This dataset \"contains 70,8241 English language news articles published between Jan 2017 and December 2019\"\n","\n","Let's start by getting the news dataset, converting it into a dataframe, and investigating what the data looks like!"],"metadata":{"id":"WJof_NJ5csnt"}},{"cell_type":"code","source":["# Install the Huggingface datasets library\n","pip install datasets"],"metadata":{"id":"v74VLpfFVdB4","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1702067291575,"user_tz":360,"elapsed":9557,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"9eec12de-e01d-4a9b-a859-de2a4cb6c887"},"execution_count":1,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting datasets\n","  Downloading datasets-2.15.0-py3-none-any.whl (521 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m521.2/521.2 kB\u001b[0m \u001b[31m3.6 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hRequirement already satisfied: numpy>=1.17 in /usr/local/lib/python3.10/dist-packages (from datasets) (1.23.5)\n","Requirement already satisfied: pyarrow>=8.0.0 in /usr/local/lib/python3.10/dist-packages (from datasets) (9.0.0)\n","Collecting pyarrow-hotfix (from datasets)\n","  Downloading pyarrow_hotfix-0.6-py3-none-any.whl (7.9 kB)\n","Collecting dill<0.3.8,>=0.3.0 (from datasets)\n","  Downloading dill-0.3.7-py3-none-any.whl (115 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m115.3/115.3 kB\u001b[0m \u001b[31m14.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hRequirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (from datasets) (1.5.3)\n","Requirement already satisfied: requests>=2.19.0 in /usr/local/lib/python3.10/dist-packages (from datasets) (2.31.0)\n","Requirement already satisfied: tqdm>=4.62.1 in /usr/local/lib/python3.10/dist-packages (from datasets) (4.66.1)\n","Requirement already satisfied: xxhash in /usr/local/lib/python3.10/dist-packages (from datasets) (3.4.1)\n","Collecting multiprocess (from datasets)\n","  Downloading multiprocess-0.70.15-py310-none-any.whl (134 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m134.8/134.8 kB\u001b[0m \u001b[31m14.2 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hRequirement already satisfied: fsspec[http]<=2023.10.0,>=2023.1.0 in /usr/local/lib/python3.10/dist-packages (from datasets) (2023.6.0)\n","Requirement already satisfied: aiohttp in /usr/local/lib/python3.10/dist-packages (from datasets) (3.9.1)\n","Requirement already satisfied: huggingface-hub>=0.18.0 in /usr/local/lib/python3.10/dist-packages (from datasets) (0.19.4)\n","Requirement already satisfied: packaging in /usr/local/lib/python3.10/dist-packages (from datasets) (23.2)\n","Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/dist-packages (from datasets) (6.0.1)\n","Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp->datasets) (23.1.0)\n","Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.10/dist-packages (from aiohttp->datasets) (6.0.4)\n","Requirement already satisfied: yarl<2.0,>=1.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp->datasets) (1.9.3)\n","Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.10/dist-packages (from aiohttp->datasets) (1.4.0)\n","Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.10/dist-packages (from aiohttp->datasets) (1.3.1)\n","Requirement already satisfied: async-timeout<5.0,>=4.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp->datasets) (4.0.3)\n","Requirement already satisfied: filelock in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.18.0->datasets) (3.13.1)\n","Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.18.0->datasets) (4.5.0)\n","Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/dist-packages (from requests>=2.19.0->datasets) (3.3.2)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests>=2.19.0->datasets) (3.6)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests>=2.19.0->datasets) (2.0.7)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests>=2.19.0->datasets) (2023.11.17)\n","Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas->datasets) (2.8.2)\n","Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas->datasets) (2023.3.post1)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->pandas->datasets) (1.16.0)\n","Installing collected packages: pyarrow-hotfix, dill, multiprocess, datasets\n","Successfully installed datasets-2.15.0 dill-0.3.7 multiprocess-0.70.15 pyarrow-hotfix-0.6\n"]}]},{"cell_type":"code","source":["from datasets import load_dataset\n","dataset = load_dataset(\"cc_news\")"],"metadata":{"id":"yGjmDjFhc-2t","colab":{"base_uri":"https://localhost:8080/","height":145,"referenced_widgets":["db2c9c0b1792481f9a3ff2766e5406cc","cc5a61023faf444b9cfc7b4d18e31612","79bafc18ccb345cdbb2718e8449672a6","005bde0db4784bc2bab3e5cbef72c867","6f039817391e49e883c190beae39bc99","2900bb0f222644f59c783c8535e0b516","b4ce61339a4947c79f872f19e1a64f97","19433a11c14344abbc823f2926bc279c","025122086a374ee88166281f210b2661","5ca7e5214b384763a988aeaa5429f4e1","f1741e03056a49048c928503bca0cc66","0611ba41bf5b459aa88f5e82037e4cf1","488ba2052f6b40b1ab0bf6ab6df39045","9b5b40ce1b4a4c29b19871484233cff8","8269e2f8ab3042ee839a25cec7f26e98","258421eaec4e43728cf22084330940e5","2bd5cd3878e44459a3e6c701cf7a655f","2ffe80dc3bdd4afeaade89b605cba33b","e6ba481797e64ed4b6effec93c99565b","3bf45fc10f4c4fd396696d35240dae2f","e01fa81d9cac40289ebb98462edeb86a","337d56195979499d8a9556841e2bf468","34ff572f8f8e49c8afd385c5ba04ca70","95743b20216349408633244ac38fa12f","d6084cce62554043a85ca3f65d56559b","4e5514ea3f824b6a82e5ad222bb3dcad","933af1d2ba6c4374afc7919ded5f8ad2","8fa2e449084e47e5928df215b057cda0","86ca7854282d41d2a953e00f5b8ba325","b35dff9949bb448b90048dd605c856ad","2e2390fd46f446368aba6883267fea14","2e8c1c18ff4b4f92b9b9785a40bcf508","920291f0d9fc476084f483fc0aadd099","ab975e3641344a5eb0c70a7329d8777d","fc1cafeace8d46dfad208fd4f9a7671d","43b6ded1ecb94403998d7b748ef59db3","604d2c43e23d4ef8bb2695a7bf5b0e71","353aabad0a464c109c4c8e6a4f6f1c39","ff551ff3642748998d9a7211b28a5b08","9ae06b005d534961bd7ea8c9da3f2810","e8338f33cca24a7aadc1cc4c7559b4ee","d3e740bc02ad4e2fba8323aa3a20c62c","1c175b9e17ed4e5895f2838aeb4de32e","d41e29de52d74100a3a84786edcb2e39"]},"executionInfo":{"status":"ok","timestamp":1702067475938,"user_tz":360,"elapsed":175961,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"c1e9884e-f341-4a87-a231-ac2b6c717d86"},"execution_count":2,"outputs":[{"output_type":"display_data","data":{"text/plain":["Downloading builder script:   0%|          | 0.00/4.32k [00:00<?, ?B/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"db2c9c0b1792481f9a3ff2766e5406cc"}},"metadata":{}},{"output_type":"display_data","data":{"text/plain":["Downloading readme:   0%|          | 0.00/7.46k [00:00<?, ?B/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"0611ba41bf5b459aa88f5e82037e4cf1"}},"metadata":{}},{"output_type":"display_data","data":{"text/plain":["Downloading data:   0%|          | 0.00/845M [00:00<?, ?B/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"34ff572f8f8e49c8afd385c5ba04ca70"}},"metadata":{}},{"output_type":"display_data","data":{"text/plain":["Generating train split:   0%|          | 0/708241 [00:00<?, ? examples/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"ab975e3641344a5eb0c70a7329d8777d"}},"metadata":{}}]},{"cell_type":"code","source":["# Convert dataset to dataframe\n","import pandas as pd\n","train_data = dataset[\"train\"]\n","train_df = pd.DataFrame(train_data)"],"metadata":{"id":"yxcJLQhZdBMe","executionInfo":{"status":"ok","timestamp":1702067517995,"user_tz":360,"elapsed":42061,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}}},"execution_count":3,"outputs":[]},{"cell_type":"code","source":["#Get a sense of the data i.e. volume, columns\n","print(\"# of total news articles: \", len(train_df))\n","train_df.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":398},"id":"8GK-l1uBeqkf","executionInfo":{"status":"ok","timestamp":1702067935912,"user_tz":360,"elapsed":141,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"b311492f-51c4-42a5-90ca-4c5d1df17153"},"execution_count":9,"outputs":[{"output_type":"stream","name":"stdout","text":["# of total news articles:  708241\n"]},{"output_type":"execute_result","data":{"text/plain":["                                               title  \\\n","0        Daughter Duo is Dancing in The Same Company   \n","1  New York City Ballet Announces Interim Leaders...   \n","2  Watch Pennsylvania Ballet & Boston Ballet Face...   \n","3                                        dance shoes   \n","4  Rebecca Krohn on Her Retirement from New York ...   \n","\n","                                                text                  domain  \\\n","0  There's a surprising twist to Regina Willoughb...  www.pointemagazine.com   \n","1  The New York City Ballet Board of Directors an...  www.pointemagazine.com   \n","2  The Philadelphia Eagles and the New England Pa...  www.pointemagazine.com   \n","3  Looking for your next audition shoe? Shot at a...  www.pointemagazine.com   \n","4  New York City Ballet principal dancer Rebecca ...  www.pointemagazine.com   \n","\n","                  date                                        description  \\\n","0  2017-12-11 20:19:05  There's a surprising twist to Regina Willoughb...   \n","1  2017-12-11 17:02:55  NYCB has announced an interim leadership team ...   \n","2  2018-02-02 21:58:13  The Philadelphia Eagles and the New England Pa...   \n","3  2018-04-24 19:00:11  Looking for your next audition shoe? Shot at a...   \n","4  2017-10-06 14:44:51  We interviewed New York City Ballet principal ...   \n","\n","                                                 url  \\\n","0  http://www.pointemagazine.com/mother-daughter-...   \n","1  http://www.pointemagazine.com/nycb-interim-lea...   \n","2  http://www.pointemagazine.com/watch-pennsylvan...   \n","3  https://www.pointemagazine.com/dance-shoes-256...   \n","4  http://www.pointemagazine.com/rebecca-krohn-re...   \n","\n","                                           image_url  \n","0  https://pointe-img.rbl.ms/simage/https%3A%2F%2...  \n","1  https://pointe-img.rbl.ms/simage/https%3A%2F%2...  \n","2  https://pointe-img.rbl.ms/simage/https%3A%2F%2...  \n","3  https://pointe-img.rbl.ms/simage/https%3A%2F%2...  \n","4  https://pointe-img.rbl.ms/simage/https%3A%2F%2...  "],"text/html":["\n","  <div id=\"df-c122b770-8d15-4b2f-8ae5-b023d5f6c784\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>text</th>\n","      <th>domain</th>\n","      <th>date</th>\n","      <th>description</th>\n","      <th>url</th>\n","      <th>image_url</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Daughter Duo is Dancing in The Same Company</td>\n","      <td>There's a surprising twist to Regina Willoughb...</td>\n","      <td>www.pointemagazine.com</td>\n","      <td>2017-12-11 20:19:05</td>\n","      <td>There's a surprising twist to Regina Willoughb...</td>\n","      <td>http://www.pointemagazine.com/mother-daughter-...</td>\n","      <td>https://pointe-img.rbl.ms/simage/https%3A%2F%2...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>New York City Ballet Announces Interim Leaders...</td>\n","      <td>The New York City Ballet Board of Directors an...</td>\n","      <td>www.pointemagazine.com</td>\n","      <td>2017-12-11 17:02:55</td>\n","      <td>NYCB has announced an interim leadership team ...</td>\n","      <td>http://www.pointemagazine.com/nycb-interim-lea...</td>\n","      <td>https://pointe-img.rbl.ms/simage/https%3A%2F%2...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Watch Pennsylvania Ballet &amp; Boston Ballet Face...</td>\n","      <td>The Philadelphia Eagles and the New England Pa...</td>\n","      <td>www.pointemagazine.com</td>\n","      <td>2018-02-02 21:58:13</td>\n","      <td>The Philadelphia Eagles and the New England Pa...</td>\n","      <td>http://www.pointemagazine.com/watch-pennsylvan...</td>\n","      <td>https://pointe-img.rbl.ms/simage/https%3A%2F%2...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>dance shoes</td>\n","      <td>Looking for your next audition shoe? Shot at a...</td>\n","      <td>www.pointemagazine.com</td>\n","      <td>2018-04-24 19:00:11</td>\n","      <td>Looking for your next audition shoe? Shot at a...</td>\n","      <td>https://www.pointemagazine.com/dance-shoes-256...</td>\n","      <td>https://pointe-img.rbl.ms/simage/https%3A%2F%2...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Rebecca Krohn on Her Retirement from New York ...</td>\n","      <td>New York City Ballet principal dancer Rebecca ...</td>\n","      <td>www.pointemagazine.com</td>\n","      <td>2017-10-06 14:44:51</td>\n","      <td>We interviewed New York City Ballet principal ...</td>\n","      <td>http://www.pointemagazine.com/rebecca-krohn-re...</td>\n","      <td>https://pointe-img.rbl.ms/simage/https%3A%2F%2...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c122b770-8d15-4b2f-8ae5-b023d5f6c784')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-c122b770-8d15-4b2f-8ae5-b023d5f6c784 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-c122b770-8d15-4b2f-8ae5-b023d5f6c784');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-1ca62566-5bc4-4c3f-b0ee-ec929910b0a9\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-1ca62566-5bc4-4c3f-b0ee-ec929910b0a9')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-1ca62566-5bc4-4c3f-b0ee-ec929910b0a9 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":9}]},{"cell_type":"code","source":["# Explore data when using a filter for news source\n","fox_domain_df = train_df[train_df['domain'].str.contains('fox', case=False)]\n","print(\"# of Fox News Articles: \", len(fox_domain_df))\n","fox_domain_df.head()"],"metadata":{"id":"nB9rdeB-fi-L","colab":{"base_uri":"https://localhost:8080/","height":398},"executionInfo":{"status":"ok","timestamp":1702067900406,"user_tz":360,"elapsed":773,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"e4edea94-794b-4f4c-d343-a74f41f602d9"},"execution_count":8,"outputs":[{"output_type":"stream","name":"stdout","text":["# of Fox News Articles:  15158\n"]},{"output_type":"execute_result","data":{"text/plain":["                                                   title  \\\n","54258  Police say New York teen chokes mom’s ex-boyfr...   \n","54259  Officials identify 5 children killed in Lebano...   \n","54260  Pair high on bath salts shoot at fireflies the...   \n","54261  England knocks out Colombia on penalties to re...   \n","54262  3-year-old girl and her parents found dead nea...   \n","\n","                                                    text      domain  \\\n","54258  Please enable Javascript to watch this video\\n...  fox4kc.com   \n","54259  × Officials identify 5 children killed in Leba...  fox4kc.com   \n","54260  Please enable Javascript to watch this video\\n...  fox4kc.com   \n","54261  No country had lost more penalty shootouts at ...  fox4kc.com   \n","54262  Please enable Javascript to watch this video\\n...  fox4kc.com   \n","\n","                      date                                        description  \\\n","54258  2017-08-15 00:53:21  NEW YORK — A woman's son allegedly choked his ...   \n","54259  2018-06-07 20:11:45  LEBANON, Mo. -- Officials have identified the ...   \n","54260  2018-07-04 03:45:15  LAMAR TOWNSHIP, Pa. — A man and woman believed...   \n","54261  2018-07-04 14:05:14  No country had lost more penalty shootouts at ...   \n","54262  2017-08-14 12:44:26  LAWRENCE, Kan. -- The Douglass County Sheriff'...   \n","\n","                                                     url  \\\n","54258  http://fox4kc.com/2017/08/14/new-york-teen-cho...   \n","54259  https://fox4kc.com/2018/06/07/officials-identi...   \n","54260  https://fox4kc.com/2018/07/03/pair-high-on-bat...   \n","54261  https://fox4kc.com/2018/07/04/england-knocks-o...   \n","54262  http://fox4kc.com/2017/08/14/3-year-old-girl-a...   \n","\n","                                               image_url  \n","54258  https://localtvwdaf.files.wordpress.com/2017/0...  \n","54259  https://localtvwdaf.files.wordpress.com/2018/0...  \n","54260  https://localtvwdaf.files.wordpress.com/2018/0...  \n","54261  https://localtvwdaf.files.wordpress.com/2018/0...  \n","54262  https://localtvwdaf.files.wordpress.com/2017/0...  "],"text/html":["\n","  <div id=\"df-f47098cb-4354-4d18-80b9-18959c14aae8\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>text</th>\n","      <th>domain</th>\n","      <th>date</th>\n","      <th>description</th>\n","      <th>url</th>\n","      <th>image_url</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>54258</th>\n","      <td>Police say New York teen chokes mom’s ex-boyfr...</td>\n","      <td>Please enable Javascript to watch this video\\n...</td>\n","      <td>fox4kc.com</td>\n","      <td>2017-08-15 00:53:21</td>\n","      <td>NEW YORK — A woman's son allegedly choked his ...</td>\n","      <td>http://fox4kc.com/2017/08/14/new-york-teen-cho...</td>\n","      <td>https://localtvwdaf.files.wordpress.com/2017/0...</td>\n","    </tr>\n","    <tr>\n","      <th>54259</th>\n","      <td>Officials identify 5 children killed in Lebano...</td>\n","      <td>× Officials identify 5 children killed in Leba...</td>\n","      <td>fox4kc.com</td>\n","      <td>2018-06-07 20:11:45</td>\n","      <td>LEBANON, Mo. -- Officials have identified the ...</td>\n","      <td>https://fox4kc.com/2018/06/07/officials-identi...</td>\n","      <td>https://localtvwdaf.files.wordpress.com/2018/0...</td>\n","    </tr>\n","    <tr>\n","      <th>54260</th>\n","      <td>Pair high on bath salts shoot at fireflies the...</td>\n","      <td>Please enable Javascript to watch this video\\n...</td>\n","      <td>fox4kc.com</td>\n","      <td>2018-07-04 03:45:15</td>\n","      <td>LAMAR TOWNSHIP, Pa. — A man and woman believed...</td>\n","      <td>https://fox4kc.com/2018/07/03/pair-high-on-bat...</td>\n","      <td>https://localtvwdaf.files.wordpress.com/2018/0...</td>\n","    </tr>\n","    <tr>\n","      <th>54261</th>\n","      <td>England knocks out Colombia on penalties to re...</td>\n","      <td>No country had lost more penalty shootouts at ...</td>\n","      <td>fox4kc.com</td>\n","      <td>2018-07-04 14:05:14</td>\n","      <td>No country had lost more penalty shootouts at ...</td>\n","      <td>https://fox4kc.com/2018/07/04/england-knocks-o...</td>\n","      <td>https://localtvwdaf.files.wordpress.com/2018/0...</td>\n","    </tr>\n","    <tr>\n","      <th>54262</th>\n","      <td>3-year-old girl and her parents found dead nea...</td>\n","      <td>Please enable Javascript to watch this video\\n...</td>\n","      <td>fox4kc.com</td>\n","      <td>2017-08-14 12:44:26</td>\n","      <td>LAWRENCE, Kan. -- The Douglass County Sheriff'...</td>\n","      <td>http://fox4kc.com/2017/08/14/3-year-old-girl-a...</td>\n","      <td>https://localtvwdaf.files.wordpress.com/2017/0...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f47098cb-4354-4d18-80b9-18959c14aae8')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-f47098cb-4354-4d18-80b9-18959c14aae8 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-f47098cb-4354-4d18-80b9-18959c14aae8');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-fdc7884d-6f0d-4d5e-a027-75ca4faa9d0b\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-fdc7884d-6f0d-4d5e-a027-75ca4faa9d0b')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-fdc7884d-6f0d-4d5e-a027-75ca4faa9d0b button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":8}]},{"cell_type":"code","source":["# Explore data when using a filter for text (i.e. search \"Trump\")\n","trump_df = train_df[train_df['text'].str.contains('trump', case=False)]\n","print(\"# of Articles mentioning Trump: \", len(trump_df))\n","trump_df.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":536},"id":"6-myHDbwKGJR","executionInfo":{"status":"ok","timestamp":1702068118208,"user_tz":360,"elapsed":15160,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"4c0f4578-c3a4-413d-8a17-1bf5842143b2"},"execution_count":12,"outputs":[{"output_type":"stream","name":"stdout","text":["# of Articles mentioning Trump:  56742\n"]},{"output_type":"execute_result","data":{"text/plain":["                                                 title  \\\n","73   Cambridge Analytica's Facebook game in politic...   \n","116  Trump assails U.S. intelligence agencies amid ...   \n","122  Republican Anne Neu wins special election for ...   \n","123  Report: Trump campaign had repeated contact wi...   \n","126  Cuba puts on show of strength as Trump inaugur...   \n","\n","                                                  text  \\\n","73   Updated 3/18/2018: On March 17, 2018, Facebook...   \n","116  Trump went on the counter-offensive as his adm...   \n","122  Neu beat DFL candidate Laurie Warner by 6 perc...   \n","123  U.S. law enforcement and intelligence agencies...   \n","126  The event marked the 60th anniversary of the l...   \n","\n","                       domain                 date  \\\n","73       www.techrepublic.com  2018-03-19 00:00:00   \n","116  www.grandforksherald.com  2017-02-15 08:43:46   \n","122  www.grandforksherald.com  2017-02-14 22:56:58   \n","123  www.grandforksherald.com  2017-02-14 22:00:25   \n","126  www.grandforksherald.com  2017-01-02 15:00:49   \n","\n","                                           description  \\\n","73   The controversial data company's product lead ...   \n","116                                                      \n","122                                                      \n","123                                                      \n","126                                                      \n","\n","                                                   url  \\\n","73   https://www.techrepublic.com/article/cambridge...   \n","116  http://www.grandforksherald.com/news/4218424-t...   \n","122  http://www.grandforksherald.com/news/4218335-r...   \n","123  http://www.grandforksherald.com/news/4218288-r...   \n","126  http://www.grandforksherald.com/news/4190792-c...   \n","\n","                                             image_url  \n","73   https://tr1.cbsistatic.com/hub/i/r/2018/03/19/...  \n","116  http://www.grandforksherald.com/sites/default/...  \n","122  http://www.grandforksherald.com/sites/default/...  \n","123  http://www.grandforksherald.com/sites/default/...  \n","126  http://www.grandforksherald.com/sites/default/...  "],"text/html":["\n","  <div id=\"df-acbf766a-3753-4632-a0b7-de2a90685913\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>text</th>\n","      <th>domain</th>\n","      <th>date</th>\n","      <th>description</th>\n","      <th>url</th>\n","      <th>image_url</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>73</th>\n","      <td>Cambridge Analytica's Facebook game in politic...</td>\n","      <td>Updated 3/18/2018: On March 17, 2018, Facebook...</td>\n","      <td>www.techrepublic.com</td>\n","      <td>2018-03-19 00:00:00</td>\n","      <td>The controversial data company's product lead ...</td>\n","      <td>https://www.techrepublic.com/article/cambridge...</td>\n","      <td>https://tr1.cbsistatic.com/hub/i/r/2018/03/19/...</td>\n","    </tr>\n","    <tr>\n","      <th>116</th>\n","      <td>Trump assails U.S. intelligence agencies amid ...</td>\n","      <td>Trump went on the counter-offensive as his adm...</td>\n","      <td>www.grandforksherald.com</td>\n","      <td>2017-02-15 08:43:46</td>\n","      <td></td>\n","      <td>http://www.grandforksherald.com/news/4218424-t...</td>\n","      <td>http://www.grandforksherald.com/sites/default/...</td>\n","    </tr>\n","    <tr>\n","      <th>122</th>\n","      <td>Republican Anne Neu wins special election for ...</td>\n","      <td>Neu beat DFL candidate Laurie Warner by 6 perc...</td>\n","      <td>www.grandforksherald.com</td>\n","      <td>2017-02-14 22:56:58</td>\n","      <td></td>\n","      <td>http://www.grandforksherald.com/news/4218335-r...</td>\n","      <td>http://www.grandforksherald.com/sites/default/...</td>\n","    </tr>\n","    <tr>\n","      <th>123</th>\n","      <td>Report: Trump campaign had repeated contact wi...</td>\n","      <td>U.S. law enforcement and intelligence agencies...</td>\n","      <td>www.grandforksherald.com</td>\n","      <td>2017-02-14 22:00:25</td>\n","      <td></td>\n","      <td>http://www.grandforksherald.com/news/4218288-r...</td>\n","      <td>http://www.grandforksherald.com/sites/default/...</td>\n","    </tr>\n","    <tr>\n","      <th>126</th>\n","      <td>Cuba puts on show of strength as Trump inaugur...</td>\n","      <td>The event marked the 60th anniversary of the l...</td>\n","      <td>www.grandforksherald.com</td>\n","      <td>2017-01-02 15:00:49</td>\n","      <td></td>\n","      <td>http://www.grandforksherald.com/news/4190792-c...</td>\n","      <td>http://www.grandforksherald.com/sites/default/...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-acbf766a-3753-4632-a0b7-de2a90685913')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-acbf766a-3753-4632-a0b7-de2a90685913 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-acbf766a-3753-4632-a0b7-de2a90685913');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-15419533-bcc7-4c06-b01e-447a44a1afeb\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-15419533-bcc7-4c06-b01e-447a44a1afeb')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-15419533-bcc7-4c06-b01e-447a44a1afeb button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":12}]},{"cell_type":"code","source":["trump_df = train_df[train_df['text'].str.contains('trump', case=False)]"],"metadata":{"id":"3Gmi9t81gZVz"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["# Lets look at what the text columns we will be using for our analysis are like\n","print(\"TITLE: \", fox_domain_df['title'].iloc[0])\n","print(\"DESCRIPTION: \", fox_domain_df['description'].iloc[0])\n","print(\"ARTICLE TEXT: \", fox_domain_df['text'].iloc[0])"],"metadata":{"id":"syMExLJPhQuV","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1702068518280,"user_tz":360,"elapsed":146,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"f1733cf6-37aa-44a5-d5c2-0dd862892a40"},"execution_count":18,"outputs":[{"output_type":"stream","name":"stdout","text":["TITLE:  Police say New York teen chokes mom’s ex-boyfriend to death after seeing him beat her\n","DESCRIPTION:  NEW YORK — A woman's son allegedly choked his mother's ex-boyfriend to death Monday after spotting the man beating her inside their New York City apartment, police said. The 43-year-old ex-boyfriend showed up at the University Avenue unit in the Bronx around 4:30 a.m.\n","ARTICLE TEXT:  Please enable Javascript to watch this video\n","NEW YORK — A woman's son allegedly choked his mother's ex-boyfriend to death Monday after spotting the man beating her inside their New York City apartment, police said.\n","The 43-year-old ex-boyfriend showed up at the University Avenue unit in the Bronx around 4:30 a.m. to talk to the mother, police told WPIX. The two argued in the hallway, then he followed her into the apartment.\n","The man, who police didn't immediately identify Monday, then began beating the 37-year-old woman, officers said. Her 18-year-old son heard what was happening and rushed out of his bedroom.\n","The teen allegedly fought with his mom's ex-boyfriend, pulling him off of his mother before choking the man to death, police said.\n","Police sources said the mother, who had briefly passed out, woke up to the sight of her son standing over her ex-boyfriend.\n","The dead man has 26 prior arrests, two for domestic violence against the teenager's mother, sources told WPIX.\n","Police took the teen into custody. No charges have been filed as of Monday evening.\n"]}]},{"cell_type":"markdown","source":["# Check the News Sources in our Dataset\n","The ideal state of our dataset is that it contains only news articles that we can assign a political label of liberal, moderate, or conservative. We could do this by qualitative analysis, but that would take too long. Instead, we use news source as a proxy in which we can infer the political bias of the news article text by leveraging existing research like those listed below:"],"metadata":{"id":"ElsqG4n-LOhn"}},{"cell_type":"markdown","source":["From Nadeem and Raza: https://web.stanford.edu/class/archive/cs/cs224n/cs224n.1224/reports/custom_116661041.pdf\n","\n","> *For training data, Wei has\n","compiled approximately 250,000 sentences from 11 news sources, five liberal sources (Newsday, New\n","York Times, CNN, LA Times, Washington Post), one neutral source (Politico), and five conservative\n","sources (Wall Street Journal, New York Post, Daily Press, Daily Herald, Chicago Tribune).*\n","\n","From Mitchell et. al.: https://www.pewresearch.org/journalism/2014/10/21/section-1-media-sources-distinct-favorites-emerge-on-the-left-and-right/\n","\n","> *Those with mostly conservative views also gravitate strongly toward Fox News – 31% name it as their main source, several times the share who name the next most popular sources, including CNN (9%), local television (6%) and radio (6%) and Yahoo News (6%).On the left of the political spectrum, no single outlet predominates. Among consistent liberals, CNN (15%), NPR (13%), MSNBC (12%) and the New York Times (10%) all rank near the top of the list. CNN is named by just 20% of those with mostly liberal views, but still tops their list, followed by local television (11%) and NPR (9%). Both MSNBC and Fox News are mentioned by 5% of those who are mostly liberal. Those in other ideological groups name the New York Times, NPR and MSNBC less frequently as top news sources.*\n","\n","\n","From Mitchell et. al.: https://www.pewresearch.org/short-reads/2020/04/01/americans-main-sources-for-political-news-vary-by-party-and-age/\n","\n","> *Four of the eight sources named by at least 2% of U.S. adults are much more likely to be named by Democrats and independents who lean Democratic than by Republicans and GOP leaners: MSNBC, The New York Times, NPR and CNN. Fox News is the one outlet among these eight that is far more likely to be named by Republicans than by Democrats.*\n","\n","From: https://www.allsides.com/media-bias/ratings"],"metadata":{"id":"HJfHBLtHEGe7"}},{"cell_type":"code","source":["# Calculate value counts\n","value_counts = train_df['domain'].value_counts()\n","# Get domains with count > 100\n","filtered_domains = value_counts[value_counts > 100].index\n","\n","# Filter the DataFrame -- we only want sources with a significant number of articles\n","filtered_train_df = train_df[train_df['domain'].isin(filtered_domains)]\n","\n","# Lets look at the news sources next to the count of articles in the dataset\n","domain_counts = filtered_train_df['domain'].value_counts()\n","\n","# Whats the total number of unique news articles\n","print(len(domain_counts))\n","\n","# To display all rows and columns without truncation\n","# pd.set_option('display.max_rows', None)\n","# pd.set_option('display.max_columns', None)\n","print(domain_counts.head(20))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"zWfY6DfLAPfn","executionInfo":{"status":"ok","timestamp":1702069466557,"user_tz":360,"elapsed":479,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"7de2d4fb-8e07-46e0-8ae2-d55ab89e64af"},"execution_count":22,"outputs":[{"output_type":"stream","name":"stdout","text":["1273\n","uk.reuters.com             24480\n","www.dailymail.co.uk        15452\n","www.topix.com              13354\n","www.reuters.com            11378\n","www.which.co.uk             7411\n","www.express.co.uk           4875\n","indianexpress.com           4151\n","www.cbssports.com           4039\n","www.mirror.co.uk            3791\n","nypost.com                  3646\n","shepherdexpress.com         3605\n","www.channelnewsasia.com     3462\n","www.cnn.com                 3403\n","www.amarujala.com           3395\n","nationalpost.com            3238\n","www.nigeriatoday.ng         3148\n","www.metronews.ca            3128\n","www.taiwannews.com.tw       3103\n","www.inquisitr.com           2873\n","www.seattletimes.com        2784\n","Name: domain, dtype: int64\n"]}]},{"cell_type":"markdown","source":["Looking at some of the news sources in our dataset, we see there are some international  (i.e. Indian Express, Nigeria Today, Taiwan News) and  regional specific sources (i.e. Seattle Times) we might not want in our final dataset. Therefore filtering to just the sources from the research / tools we listed above will both allow us to confidently annotate our data with political labels and remove irrelevant sources from our dataset.  "],"metadata":{"id":"FJZpQqxNPyBE"}},{"cell_type":"markdown","source":["Here is our initial political label to news source mapping! We may adjust later depending on the spread of articles for each label.\n","\n","**Label:** ```liberal```\n","* MSNBC\n","* New York Times\n","* NPR\n","* CNN\n","\n","**Label:** ```moderate```\n","* Wall Street Journal --> the second research article shows that this sources is trusted by the same percentage of liberals and conservatives, the allsides website shows it as a center leaning news outlet\n","* The Hill\n","* NewsWeek\n","* NewsNation\n","* Forbes\n","\n","**Label:** ```conservative```\n","* Fox News\n","* Yahoo News\n","\n","Let's filter our dataset to just these sources!"],"metadata":{"id":"fSCSAFK7MvUu"}},{"cell_type":"code","source":["# Republican\n","fox = train_df[train_df['domain'].str.contains('foxnews', case=False)]\n","yahoo = train_df[train_df['domain'].str.contains('yahoo', case=False)]\n","\n","# Moderate\n","forbes = train_df[train_df['domain'].str.contains('forbes', case=False)]\n","newsnation = train_df[train_df['domain'].str.contains('newsnation', case=False)] #none\n","wallstreet = train_df[train_df['domain'].str.contains('wallstreet', case=False)] #none\n","newsweek = train_df[train_df['domain'].str.contains('newsweek', case=False)]\n","hill = train_df[train_df['domain'].str.contains('thehill', case=False)]\n","\n","# Liberal\n","msnbc = train_df[train_df['domain'].str.contains('msnbc', case=False)]\n","newyorker = train_df[train_df['domain'].str.contains('newyorker', case=False)] #none\n","npr = train_df[train_df['domain'].str.contains('npr', case=False)]\n","cnn = train_df[train_df['domain'].str.contains('cnn', case=False)]"],"metadata":{"id":"zz59ksc8Bpmn","executionInfo":{"status":"ok","timestamp":1702069810369,"user_tz":360,"elapsed":5001,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}}},"execution_count":23,"outputs":[]},{"cell_type":"code","source":["# Let's print the amount of articles from each source\n","print(\"fox: \", len(fox))\n","print(\"yahoo: \", len(yahoo))\n","print(\"forbes: \", len(forbes))\n","print(\"newsnation: \", len(newsnation))\n","print(\"newsweek: \", len(newsweek))\n","print(\"wallstreet: \", len(wallstreet))\n","print(\"hill: \", len(hill))\n","print(\"msnbc: \", len(msnbc))\n","print(\"nyt: \", len(newyorker))\n","print(\"npr: \", len(npr))\n","print(\"cnn: \", len(cnn))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"FyZratztBzMD","executionInfo":{"status":"ok","timestamp":1702069879844,"user_tz":360,"elapsed":148,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"08e492c5-a6b7-4244-8ed6-28fed6c5492a"},"execution_count":24,"outputs":[{"output_type":"stream","name":"stdout","text":["fox:  2445\n","yahoo:  6245\n","forbes:  1792\n","newsnation:  0\n","newsweek:  95\n","wallstreet:  0\n","hill:  78\n","msnbc:  265\n","nyt:  139\n","npr:  2374\n","cnn:  4360\n"]}]},{"cell_type":"code","source":["# Let's see this breakdown across political lean\n","liberal_cnt = len(msnbc) + len(newyorker) + len(npr) + len(cnn)\n","conservative_cnt = len(fox) + len(yahoo)\n","moderate_cnt = len(forbes) + len(newsweek) + len(hill)\n","\n","print(\"liberal count: \", liberal_cnt)\n","print(\"conservative count: \", conservative_cnt)\n","print(\"moderate count: \", moderate_cnt)"],"metadata":{"id":"uAVWxdKUhwrd","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1702070075005,"user_tz":360,"elapsed":114,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"1cac8fbd-e163-4e76-c552-9a3918abd737"},"execution_count":29,"outputs":[{"output_type":"stream","name":"stdout","text":["liberal count:  7138\n","conservative count:  8690\n","moderate count:  1965\n"]}]},{"cell_type":"markdown","source":["Looking at the above, we need more moderate and liberal news sources in our dataset. Include BBC for moderate and Huffpost, Slate, Atlantic, & Vox for liberal."],"metadata":{"id":"agg6fei3ernA"}},{"cell_type":"code","source":["# Moderate\n","bbc = train_df[train_df['domain'].str.contains('bbc', case=False)]\n","\n","# Liberal\n","huffpost = train_df[train_df['domain'].str.contains('huffpost', case=False)]\n","slate = train_df[train_df['domain'].str.contains('slate', case=False)] #no nyt\n","atlantic = train_df[train_df['domain'].str.contains('atlantic', case=False)]\n","vox = train_df[train_df['domain'].str.contains('vox', case=False)]"],"metadata":{"id":"6sA2Iv1VdJ07","executionInfo":{"status":"ok","timestamp":1702070032812,"user_tz":360,"elapsed":1966,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}}},"execution_count":27,"outputs":[]},{"cell_type":"code","source":["print(\"bbc: \", len(bbc))\n","print(\"huffpost: \", len(huffpost))\n","print(\"slate: \", len(slate))\n","print(\"atlantic: \", len(atlantic))\n","print(\"vox: \", len(vox))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"-YxsdYsJd7Li","executionInfo":{"status":"ok","timestamp":1702070125133,"user_tz":360,"elapsed":273,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"915678e6-718e-4dc7-dcbf-ce640e8885d6"},"execution_count":30,"outputs":[{"output_type":"stream","name":"stdout","text":["bbc:  3870\n","huffpost:  0\n","slate:  302\n","atlantic:  388\n","vox:  468\n"]}]},{"cell_type":"code","source":["liberal_cnt += len(slate) + len(atlantic) + len(vox)\n","moderate_cnt += len(bbc)\n","\n","print(\"liberal count: \", liberal_cnt)\n","print(\"conservative count: \", conservative_cnt)\n","print(\"moderate count: \", moderate_cnt)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"vFrEwlaXSQku","executionInfo":{"status":"ok","timestamp":1702070200090,"user_tz":360,"elapsed":212,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"51e7c02c-d43a-42f0-9281-af277ef278ab"},"execution_count":31,"outputs":[{"output_type":"stream","name":"stdout","text":["liberal count:  8296\n","conservative count:  8690\n","moderate count:  5835\n"]}]},{"cell_type":"markdown","source":["The counts across political label is looking much better now! Let's now annotate the entries of our dataset with the appropiate label given our news source to political label mapping."],"metadata":{"id":"pbMMSm-9SkVv"}},{"cell_type":"code","source":["import numpy as np\n","\n","liberal_list = [\"vox\", \"atlantic\", \"slate\", \"msnbc\", \"newyorker\", \"npr\", \"cnn\"] #~8.2k\n","conservative_list = [\"foxnews\", \"yahoo\"] #~8.7k\n","moderate_list = [\"forbes\", \"newsweek\", \"thehill\", \"bbc\"] #~5k\n","\n","conditions = [\n","    train_df['domain'].str.contains('|'.join(liberal_list)),\n","    train_df['domain'].str.contains('|'.join(conservative_list)),\n","    train_df['domain'].str.contains('|'.join(moderate_list))\n","]\n","\n","choices = [\"liberal\", \"conservative\", \"moderate\"]\n","\n","train_df['leaning-label'] = np.select(conditions, choices, default=None)"],"metadata":{"id":"dc77-0Mrft1q","executionInfo":{"status":"ok","timestamp":1702070897114,"user_tz":360,"elapsed":1600,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}}},"execution_count":33,"outputs":[]},{"cell_type":"markdown","source":["Now that we've labeled the proper news sources we want, lets investigate whats in each one last time and make any final adjustments just in case the search filter brought in anything unexpected (i.e. search \"npr\" --> npr.com, \"bornpress.com\")."],"metadata":{"id":"Dp3VXPK_ihlY"}},{"cell_type":"code","source":["print(\"total # of liberal articles in training set: \", len(train_df[train_df['leaning-label'] == \"liberal\"]))\n","print(\"total # of distinct liberal news outlets: \", len(train_df[train_df['leaning-label'] == \"liberal\"]['domain'].value_counts()))\n","train_df[train_df['leaning-label'] == \"liberal\"]['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"H7-K_LNoiG4L","executionInfo":{"status":"ok","timestamp":1702071276436,"user_tz":360,"elapsed":556,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"d1ff9dc3-fc49-4842-8caf-755f793a39cd"},"execution_count":34,"outputs":[{"output_type":"stream","name":"stdout","text":["total # of liberal articles in training set:  8289\n","total # of distinct liberal news outlets:  35\n"]},{"output_type":"execute_result","data":{"text/plain":["www.cnn.com                             3403\n","www.npr.org                             1514\n","money.cnn.com                            911\n","www.voxy.co.nz                           457\n","www.msnbc.com                            265\n","www.theatlantic.com                      254\n","armenpress.am                            231\n","www.einpresswire.com                     218\n","www.slate.com                            154\n","www.newyorker.com                        138\n","slate.com                                136\n","atlantic.ctvnews.ca                      133\n","www.armenpress.am                         99\n","thesheridanpress.com                      98\n","www.houstonpress.com                      94\n","nprillinois.org                           36\n","www.lexingtonprogress.com                 30\n","crittendenpress.blogspot.com              29\n","edition.cnn.com                           28\n","vox.gi                                    10\n","slatestarcodex.com                         9\n","cnnpressroom.blogs.cnn.com                 7\n","cnnw.com                                   5\n","www.americanpressinstitute.org             5\n","www.ncnn.com                               5\n","columbianprogress.com                      4\n","www.greenprophet.com                       3\n","www.australianpropertyjournal.com.au       3\n","www.tailslate.net                          3\n","atikokanprogress.ca                        2\n","webvox.co                                  1\n","www.csnmidatlantic.com                     1\n","us.cnn.com                                 1\n","northernprideml.com                        1\n","video.newyorker.com                        1\n","Name: domain, dtype: int64"]},"metadata":{},"execution_count":34}]},{"cell_type":"markdown","source":["We do in fact see quite a few news sources we do not want. Let's remove them and only keep:\n","* www.cnn.com\n","* www.npr.org\n","* www.msnbc.com\n","* www.theatlantic.com\n","* www.slate.com\n","* www.newyorker.com\n","* slate.com\n","\n","The rest seem to be about sub-genres we don't want (i.e. money.cnn.com), for specific regions vs the US."],"metadata":{"id":"IWeQ9g1Xi63m"}},{"cell_type":"markdown","source":["Let's do the same check for our moderate and conservative political labels."],"metadata":{"id":"t8zkRyJ5XHa1"}},{"cell_type":"code","source":["print(\"total # of moderate articles in training set: \", len(train_df[train_df['leaning-label'] == \"moderate\"]))\n","print(\"total # of distinct moderate news outlets: \", len(train_df[train_df['leaning-label'] == \"moderate\"]['domain'].value_counts()))\n","train_df[train_df['leaning-label'] == \"moderate\"]['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"5jrH9YiGieRS","executionInfo":{"status":"ok","timestamp":1702071443367,"user_tz":360,"elapsed":153,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"7405570a-e702-495a-d5f0-9db92dfd33d5"},"execution_count":35,"outputs":[{"output_type":"stream","name":"stdout","text":["total # of moderate articles in training set:  5835\n","total # of distinct moderate news outlets:  8\n"]},{"output_type":"execute_result","data":{"text/plain":["www.bbc.co.uk           2113\n","www.forbes.com          1792\n","www.bbc.com             1752\n","www.newsweek.com          79\n","thehill.com               77\n","newsweekpakistan.com      16\n","biasedbbc.org              5\n","thehilltoponline.com       1\n","Name: domain, dtype: int64"]},"metadata":{},"execution_count":35}]},{"cell_type":"markdown","source":["For our moderate label, we only want to keep the following domains:\n","* www.forbes.com\n","* www.bbc.com\n","* www.newsweek.com\n","* thehill.com"],"metadata":{"id":"fQUOPlhXlfO-"}},{"cell_type":"code","source":["print(\"total # of conservative articles in training set\")\n","print(len(train_df[train_df['leaning-label'] == \"conservative\"]))\n","print(\"total # of distinct conservative news outlets\")\n","print(len(train_df[train_df['leaning-label'] == \"conservative\"]['domain'].value_counts())) #filtered_train_df['domain'].value_counts()\n","train_df[train_df['leaning-label'] == \"conservative\"]['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"XbRmO-HHitrF","executionInfo":{"status":"ok","timestamp":1699926972410,"user_tz":360,"elapsed":250,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"607609f9-8ecf-41d0-fe21-34e5af3e1987"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["total # of conservative articles in training set\n","8690\n","total # of distinct conservative news outlets\n","21\n"]},{"output_type":"execute_result","data":{"text/plain":["www.foxnews.com         2432\n","au.news.yahoo.com       2330\n","www.yahoo.com            962\n","sports.yahoo.com         778\n","au.sports.yahoo.com      760\n","in.news.yahoo.com        382\n","uk.sports.yahoo.com      336\n","ca.sports.yahoo.com      256\n","au.be.yahoo.com          146\n","in.finance.yahoo.com      67\n","cricket.yahoo.com         67\n","in.style.yahoo.com        46\n","finance.yahoo.com         40\n","ca.news.yahoo.com         28\n","uk.news.yahoo.com         23\n","uk.movies.yahoo.com       20\n","insider.foxnews.com       12\n","ca.style.yahoo.com         2\n","sg.news.yahoo.com          1\n","radio.foxnews.com          1\n","uk.style.yahoo.com         1\n","Name: domain, dtype: int64"]},"metadata":{},"execution_count":23}]},{"cell_type":"markdown","source":["For our conservative label, we only want to keep:\n","* www.foxnews.com\n","* www.yahoo.com\n","\n","The rest are non US based and specific to finance or sports."],"metadata":{"id":"1JJvvgkolu5V"}},{"cell_type":"markdown","source":["Let's reconstruct our filtered dataframe only grabbing our more explicit domains"],"metadata":{"id":"7ehkjFh2gSfX"}},{"cell_type":"code","source":["liberal_list = [\"www.theatlantic.com\", \"www.slate.com\", \"slate.com\", \"www.msnbc.com\", \"www.newyorker.com\", \"www.npr.org\"] #~3k w/o CNN\n","conservative_list = [\"www.foxnews.com\", \"www.yahoo.com\"] #~3k\n","moderate_list = [\"www.forbes.com\", \"www.bbc.com\", \"www.newsweek.com\", \"thehill.com\"] #~3k\n","\n","conditions = [\n","    train_df['domain'].isin(liberal_list),\n","    train_df['domain'].isin(conservative_list),\n","    train_df['domain'].isin(moderate_list)\n","]\n","\n","choices = [\"liberal\", \"conservative\", \"moderate\"]\n","\n","train_df['leaning-label'] = np.select(conditions, choices, default=None)"],"metadata":{"id":"TWUq471QjSk0","executionInfo":{"status":"ok","timestamp":1702071820818,"user_tz":360,"elapsed":267,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}}},"execution_count":36,"outputs":[]},{"cell_type":"code","source":["filtered_train_df = train_df.dropna()"],"metadata":{"id":"klOZgofzonlt","executionInfo":{"status":"ok","timestamp":1702071827050,"user_tz":360,"elapsed":1141,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}}},"execution_count":37,"outputs":[]},{"cell_type":"markdown","source":["Now, lets check the spread of our data again across our political labels"],"metadata":{"id":"-LnV_55eYwuV"}},{"cell_type":"code","source":["#Liberal\n","print(\"total # of liberal articles in training set:\", len(filtered_train_df[filtered_train_df['leaning-label'] == \"liberal\"]))\n","print(\"total # of distinct liberal news outlets:\", len(filtered_train_df[filtered_train_df['leaning-label'] == \"liberal\"]['domain'].value_counts()))\n","\n","#Moderate\n","print(\"total # of moderate articles in training set:\", len(filtered_train_df[filtered_train_df['leaning-label'] == \"moderate\"]))\n","print(\"total # of distinct moderate news outlets:\", len(filtered_train_df[filtered_train_df['leaning-label'] == \"moderate\"]['domain'].value_counts())) #filtered_train_df['domain'].value_counts()\n","\n","#Conservative\n","print(\"total # of conservative articles in training set:\", len(filtered_train_df[filtered_train_df['leaning-label'] == \"conservative\"]))\n","print(\"total # of distinct conservative news outlets:\", len(filtered_train_df[filtered_train_df['leaning-label'] == \"conservative\"]['domain'].value_counts())) #filtered_train_df['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"RyslPeQcpKjQ","executionInfo":{"status":"ok","timestamp":1702071849597,"user_tz":360,"elapsed":136,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"53f5f9f6-0d41-4078-908a-efd5e6300b69"},"execution_count":38,"outputs":[{"output_type":"stream","name":"stdout","text":["total # of liberal articles in training set: 2461\n","total # of distinct liberal news outlets: 6\n","total # of moderate articles in training set: 3700\n","total # of distinct moderate news outlets: 4\n","total # of conservative articles in training set: 3394\n","total # of distinct conservative news outlets: 2\n"]}]},{"cell_type":"code","source":["filtered_train_df[filtered_train_df['leaning-label'] == \"liberal\"]['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"TiMa9ER9psO0","executionInfo":{"status":"ok","timestamp":1699929329355,"user_tz":360,"elapsed":6,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"4f1b55dd-30db-4a5c-eb5a-aad90fc5de55"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["www.npr.org            1514\n","www.msnbc.com           265\n","www.theatlantic.com     254\n","www.slate.com           154\n","www.newyorker.com       138\n","slate.com               136\n","Name: domain, dtype: int64"]},"metadata":{},"execution_count":50}]},{"cell_type":"code","source":["filtered_train_df[filtered_train_df['leaning-label'] == \"moderate\"]['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"NrBiSr-kpu2E","executionInfo":{"status":"ok","timestamp":1699929331346,"user_tz":360,"elapsed":7,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"c48449e2-4ccc-462d-a3df-1b0d27c750a7"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["www.forbes.com      1792\n","www.bbc.com         1752\n","www.newsweek.com      79\n","thehill.com           77\n","Name: domain, dtype: int64"]},"metadata":{},"execution_count":51}]},{"cell_type":"code","source":["filtered_train_df[filtered_train_df['leaning-label'] == \"conservative\"]['domain'].value_counts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"rZzNoJSkp_cV","executionInfo":{"status":"ok","timestamp":1699929332626,"user_tz":360,"elapsed":444,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"9f5bbac0-5fa1-4304-cfd2-5f91560e52fe"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["www.foxnews.com    2432\n","www.yahoo.com       962\n","Name: domain, dtype: int64"]},"metadata":{},"execution_count":52}]},{"cell_type":"markdown","source":["There is a bit of an imbalance with the liberal dataset- lets take a sample of the CNN articles and attach it back to our dataset."],"metadata":{"id":"kyPf7fEVq9du"}},{"cell_type":"code","source":["cnn_rows = train_df[train_df['domain'] == \"www.cnn.com\"].sample(1000)\n","cnn_rows['leaning-label'] = \"liberal\"\n","cnn_rows.head(2)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":251},"id":"8vM6q50IqBn3","executionInfo":{"status":"ok","timestamp":1702071919437,"user_tz":360,"elapsed":133,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"e42cde79-69f5-41cf-c8bb-a8c4d7143870"},"execution_count":40,"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                                    title  \\\n","700577                   Vegas shooting: tactics analyzed   \n","700443  Striking container home to rise in California ...   \n","\n","                                                     text       domain  \\\n","700577  Chat with us in Facebook Messenger. Find out w...  www.cnn.com   \n","700443  Jacopo Prisco , CNN Written by\\nThe humble shi...  www.cnn.com   \n","\n","                       date  \\\n","700577  2017-10-06 13:58:58   \n","700443  2017-10-06 07:46:22   \n","\n","                                              description  \\\n","700577  From a room overlooking the crime scene, a for...   \n","700443  The Joshua Tree Residence is a unique home mad...   \n","\n","                                                      url  \\\n","700577  http://www.cnn.com/videos/tv/2017/10/06/exp-ts...   \n","700443  http://www.cnn.com/style/article/joshua-tree-c...   \n","\n","                                                image_url leaning-label  \n","700577  http://i2.cdn.cnn.com/cnnnext/dam/assets/17100...       liberal  \n","700443  http://i2.cdn.cnn.com/cnnnext/dam/assets/17100...       liberal  "],"text/html":["\n","  <div id=\"df-bb1f0e43-3892-453f-b490-f3f37c7c7659\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>text</th>\n","      <th>domain</th>\n","      <th>date</th>\n","      <th>description</th>\n","      <th>url</th>\n","      <th>image_url</th>\n","      <th>leaning-label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>700577</th>\n","      <td>Vegas shooting: tactics analyzed</td>\n","      <td>Chat with us in Facebook Messenger. Find out w...</td>\n","      <td>www.cnn.com</td>\n","      <td>2017-10-06 13:58:58</td>\n","      <td>From a room overlooking the crime scene, a for...</td>\n","      <td>http://www.cnn.com/videos/tv/2017/10/06/exp-ts...</td>\n","      <td>http://i2.cdn.cnn.com/cnnnext/dam/assets/17100...</td>\n","      <td>liberal</td>\n","    </tr>\n","    <tr>\n","      <th>700443</th>\n","      <td>Striking container home to rise in California ...</td>\n","      <td>Jacopo Prisco , CNN Written by\\nThe humble shi...</td>\n","      <td>www.cnn.com</td>\n","      <td>2017-10-06 07:46:22</td>\n","      <td>The Joshua Tree Residence is a unique home mad...</td>\n","      <td>http://www.cnn.com/style/article/joshua-tree-c...</td>\n","      <td>http://i2.cdn.cnn.com/cnnnext/dam/assets/17100...</td>\n","      <td>liberal</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-bb1f0e43-3892-453f-b490-f3f37c7c7659')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-bb1f0e43-3892-453f-b490-f3f37c7c7659 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-bb1f0e43-3892-453f-b490-f3f37c7c7659');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-5a59faff-4fc2-4d46-8012-effed66446b0\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-5a59faff-4fc2-4d46-8012-effed66446b0')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-5a59faff-4fc2-4d46-8012-effed66446b0 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":40}]},{"cell_type":"code","source":["filtered_train_df = filtered_train_df.append(cnn_rows)\n","#final_train_df = pd.concat([filtered_train_df, cnn_rows], axis=0, join='outer')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"zdV3triesUdu","executionInfo":{"status":"ok","timestamp":1702071944182,"user_tz":360,"elapsed":136,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"392d9afb-da9d-4e66-fa0a-f6f5012ccdcd"},"execution_count":41,"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-41-4bec68b3bd27>:1: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\n","  filtered_train_df = filtered_train_df.append(cnn_rows)\n"]}]},{"cell_type":"markdown","source":["Now we have successfully created our training dataset, with assigned political labels and a relatively even spread across our labels!"],"metadata":{"id":"r3HUaI-9ZW9w"}},{"cell_type":"code","source":["filtered_train_df.head(3)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":386},"id":"6DBkmXvusoJB","executionInfo":{"status":"ok","timestamp":1702072044565,"user_tz":360,"elapsed":165,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"5d160fe8-62b4-4952-f5b8-ba482a3e11cf"},"execution_count":42,"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                                   title  \\\n","11724    Cleveland Shooter Disowned By Family On Twitter   \n","11725  Weinstein Company launches probe into co-found...   \n","11726  Hilary Duff's Ex-Husband Mike Comrie Investiga...   \n","\n","                                                    text         domain  \\\n","11724  Donald Harvey, also dubbed as the 'Angel of De...  www.yahoo.com   \n","11725  Movie company says it is taking claims “very s...  www.yahoo.com   \n","11726  Former NHL star Mike Comrie — once married to ...  www.yahoo.com   \n","\n","                      date                                        description  \\\n","11724  2017-04-17 05:27:27  Cleveland Police issued an aggravated murder w...   \n","11725  2017-10-07 04:31:25  Movie company says it is taking claims “very s...   \n","11726  2017-02-15 15:22:55  Former NHL star Mike Comrie — once married to ...   \n","\n","                                                     url  \\\n","11724  https://www.yahoo.com/news/cleveland-shooter-d...   \n","11725  https://www.yahoo.com/movies/weinstein-company...   \n","11726  https://www.yahoo.com/celebrity/hilary-duffs-e...   \n","\n","                                               image_url leaning-label  \n","11724  https://s.yimg.com/uu/api/res/1.2/vZB0t9O5GGqs...  conservative  \n","11725  https://s.yimg.com/uu/api/res/1.2/4wtFnh7lUeYk...  conservative  \n","11726  https://s.yimg.com/uu/api/res/1.2/..p2z00Och0J...  conservative  "],"text/html":["\n","  <div id=\"df-630f8e13-e001-4ee1-8f6e-2255655e8c9e\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>text</th>\n","      <th>domain</th>\n","      <th>date</th>\n","      <th>description</th>\n","      <th>url</th>\n","      <th>image_url</th>\n","      <th>leaning-label</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>11724</th>\n","      <td>Cleveland Shooter Disowned By Family On Twitter</td>\n","      <td>Donald Harvey, also dubbed as the 'Angel of De...</td>\n","      <td>www.yahoo.com</td>\n","      <td>2017-04-17 05:27:27</td>\n","      <td>Cleveland Police issued an aggravated murder w...</td>\n","      <td>https://www.yahoo.com/news/cleveland-shooter-d...</td>\n","      <td>https://s.yimg.com/uu/api/res/1.2/vZB0t9O5GGqs...</td>\n","      <td>conservative</td>\n","    </tr>\n","    <tr>\n","      <th>11725</th>\n","      <td>Weinstein Company launches probe into co-found...</td>\n","      <td>Movie company says it is taking claims “very s...</td>\n","      <td>www.yahoo.com</td>\n","      <td>2017-10-07 04:31:25</td>\n","      <td>Movie company says it is taking claims “very s...</td>\n","      <td>https://www.yahoo.com/movies/weinstein-company...</td>\n","      <td>https://s.yimg.com/uu/api/res/1.2/4wtFnh7lUeYk...</td>\n","      <td>conservative</td>\n","    </tr>\n","    <tr>\n","      <th>11726</th>\n","      <td>Hilary Duff's Ex-Husband Mike Comrie Investiga...</td>\n","      <td>Former NHL star Mike Comrie — once married to ...</td>\n","      <td>www.yahoo.com</td>\n","      <td>2017-02-15 15:22:55</td>\n","      <td>Former NHL star Mike Comrie — once married to ...</td>\n","      <td>https://www.yahoo.com/celebrity/hilary-duffs-e...</td>\n","      <td>https://s.yimg.com/uu/api/res/1.2/..p2z00Och0J...</td>\n","      <td>conservative</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-630f8e13-e001-4ee1-8f6e-2255655e8c9e')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-630f8e13-e001-4ee1-8f6e-2255655e8c9e button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-630f8e13-e001-4ee1-8f6e-2255655e8c9e');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-6d0f5b2c-749a-4fe6-9686-edaa2bca9a4e\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-6d0f5b2c-749a-4fe6-9686-edaa2bca9a4e')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-6d0f5b2c-749a-4fe6-9686-edaa2bca9a4e button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":42}]},{"cell_type":"markdown","source":["# Saving our Training Dataset"],"metadata":{"id":"sJrZ74wSZn4A"}},{"cell_type":"code","source":["#Mount Drive for legible/accessible filepath of tweet data\n","from google.colab import drive\n","drive.mount('/content/drive/')\n","# filtered_train_df.to_csv('content/drive/Shared with me/nlp_final_project_2023/filtered_train_data.csv')\n","filtered_train_df.to_csv(\"/content/drive/My Drive/Colab Notebooks/filtered_train_data.csv\")"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"lFueU8qavlOE","executionInfo":{"status":"ok","timestamp":1699930641192,"user_tz":360,"elapsed":4009,"user":{"displayName":"Rachael E Boyle","userId":"15265774232049178226"}},"outputId":"c1418b6b-16f6-4fbd-8fee-0830b10bdbe4"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive/; to attempt to forcibly remount, call drive.mount(\"/content/drive/\", force_remount=True).\n"]}]},{"cell_type":"code","source":[],"metadata":{"id":"H05mtQ3wvTKp"},"execution_count":null,"outputs":[]}]}